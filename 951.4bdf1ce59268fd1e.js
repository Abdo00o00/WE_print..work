"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[951],{951:(B,h,o)=>{o.r(h),o.d(h,{ContactsModule:()=>N});var m=o(177),c=o(6627),d=o(8018),f=o(1141),_=o(5144),p=o(9998),b=o(2145),v=o(9021),F=o(7313),R=o(7945),u=o(8304),t=o(4438),C=o(8005),j=o(5779);function M(n,l){1&n&&t.nrm(0,"app-loading-shimmer")}function k(n,l){if(1&n){const e=t.RV6();t.j41(0,"li",17),t.bIt("click",function(){const a=t.eBV(e).$implicit,r=t.XpG(2).$implicit;return t.Njj(a.command({id:r.id}))}),t.j41(1,"a",18),t.nrm(2,"span",19),t.j41(3,"span",20),t.EFF(4),t.k0s()()()}if(2&n){const e=l.$implicit;t.R7$(),t.BMQ("aria-label",e.label),t.R7$(),t.HbH(e.icon),t.R7$(2),t.JRh(e.label)}}function I(n,l){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td")(10,"span",12),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td")(16,"div",13)(17,"div")(18,"p-menu",14,1),t.DNE(20,k,5,4,"ng-template",15),t.k0s(),t.j41(21,"p-button",16),t.bIt("onClick",function(a){t.eBV(e);const r=t.sdS(19);return t.Njj(r.toggle(a))}),t.k0s()()()()()}if(2&n){const e=t.XpG().$implicit,i=t.XpG(2);t.R7$(2),t.Lme("",e.id," ",e.lastName,""),t.R7$(2),t.JRh(e.username),t.R7$(2),t.JRh(e.phone),t.R7$(2),t.JRh(e.message),t.R7$(2),t.Y8G("ngClass","pending"==(null==e?null:e.status)?"bg-warning":"bg-success"),t.R7$(),t.JRh(t.bMT(12,11,e.status)),t.R7$(3),t.JRh(e.created_at),t.R7$(4),t.Y8G("model",i.actionOptions)("popup",!0),t.R7$(3),t.Y8G("text",!0)}}function y(n,l){1&n&&(t.j41(0,"td"),t.nrm(1,"p-skeleton"),t.k0s())}function D(n,l){if(1&n&&(t.j41(0,"tr"),t.Z7z(1,y,2,0,"td",null,t.Vm6),t.j41(3,"td"),t.nrm(4,"p-skeleton"),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(),t.Dyx(e.items.headers)}}function $(n,l){if(1&n&&t.DNE(0,I,22,13,"tr")(1,D,5,0,"tr"),2&n){const e=t.XpG(2);t.vxM(0,e.isLoadingFilter?-1:0),t.R7$(),t.vxM(1,e.isLoadingFilter?1:-1)}}function T(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"app-dynamic-table",11),t.bIt("pageChange",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.onPageChange(a))})("pageSizeChange",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.onPageSizeChange(a))})("search",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.onSearch(a))})("buttonClick",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.openComponent())}),t.k0s(),t.DNE(3,$,2,2,"ng-template",null,0,t.C5r),t.k0s()()}if(2&n){const e=t.sdS(4),i=t.XpG();t.R7$(2),t.Y8G("items",i.items)("hasHeader",!0)("enablePagination",!1)("showBtn",i.addItem)("enableSorting",!1)("initialPageSize",i.size)("totalRecords",null==i.paginationResponse?null:i.paginationResponse.total)("bodyTemplate",e)("customTemplate",!0)("showBtn",!1)("HandelRenderingDataMessage",i.HandelRenderingDataMessage)}}let E=(()=>{class n extends b.j{constructor(e,i,a,r){super(r),this.router=e,this.injector=i,this.alertService=a,this.Urls=R.f,this.isLoadingFilter=!1,this.isLoadingItems=!0,this.categoriesList=[],this.actionOptions=[{label:"Edit",icon:"pi pi-pencil",command:g=>{g?.id&&(console.log("edit",g.id),this.router.navigate(["/admin/contacts/edit",g.id]))}}],this.items={tableHeader:"Services",headers:["ID","Name","Phone","Message","Status","Created On","Actions"],data:[]}}list(e){e?this.isLoadingFilter=!0:this.isLoadingItems=!0,this.HandelRenderingDataMessage="Loading...",this.injector.get(u.u).list().subscribe({next:a=>{this.categoriesList=a.data,this.items.data=a.data,this.paginationResponse={...a.meta,...a.links},this.isLoadingItems=!1,this.isLoadingFilter=!1,0==a.data.length&&(this.HandelRenderingDataMessage="No Data Found"),this.cdr.detectChanges()},error:a=>{this.errorMessage=a.error.errors}})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(c.Ix),t.rXU(t.zZn),t.rXU(C.n),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-list"]],standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:5,consts:[["customBodyTemplate",""],["menu",""],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/contacts"],[1,"d-flex","justify-content-center","h-100"],[1,"card","w-100","border-0"],[1,"card-body","pt-0"],[1,"row","h-100"],[1,"col-12","my-2"],[3,"pageChange","pageSizeChange","search","buttonClick","items","hasHeader","enablePagination","showBtn","enableSorting","initialPageSize","totalRecords","bodyTemplate","customTemplate","HandelRenderingDataMessage"],[1,"badge",3,"ngClass"],[1,"actions"],["appendTo","body",3,"model","popup"],["pTemplate","option"],["icon","pi pi-ellipsis-v","severity","secondary",3,"onClick","text"],["pMenuItem","",3,"click"],[1,"p-ripple","p-element","p-menuitem-link","small"],[1,"p-menuitem-icon"],[1,"p-menuitem-text"]],template:function(i,a){1&i&&(t.j41(0,"nav",2)(1,"ol",3)(2,"li",4)(3,"a",5),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()(),t.nrm(6,"p-toast"),t.j41(7,"div",6)(8,"div",7)(9,"div",8),t.DNE(10,M,1,0,"app-loading-shimmer")(11,T,5,11,"div",9),t.k0s()()()),2&i&&(t.R7$(4),t.SpI(" ",t.bMT(5,3,"Contacts"),""),t.R7$(6),t.vxM(10,a.isLoadingItems?10:-1),t.R7$(),t.vxM(11,a.isLoadingItems?-1:11))},dependencies:[d.h,d.D9,p.MB,p.y8,j.Ei,F.f,v.J,_.Mk,_.W1,c.Wk,f.tm,f.$n,m.MD,m.YU]})}}return n})();var s=o(9417);function L(n,l){if(1&n&&(t.j41(0,"div",21),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.errorMessage," ")}}function x(n,l){if(1&n&&(t.j41(0,"div",21),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.errorMessage," ")}}const G=[{path:"",component:E},{path:"edit/:id",component:(()=>{class n{constructor(e,i,a,r){this.router=e,this.injector=i,this.fb=a,this.alertService=r,this.errorMessage="",this.isEditPage=!1,this.selectedFile=null,this.fileAddedBeforeArrayMuti=[],this.contactForm=this.fb.group({username:["",[s.k0.required,s.k0.minLength(2)]],phone:["",[s.k0.required,s.k0.min(1)]],email:["",[s.k0.required,s.k0.minLength(2)]],message:["",[s.k0.required,s.k0.minLength(2)]]})}ngOnInit(){this.isEditPage=this.router.url.indexOf("edit")>-1,this.isEditPage&&this.getIDfromUrl()}getName(e,i){return"ar"==i?JSON.parse(e)?.ar:JSON.parse(e)?.en}getIDfromUrl(){const i=this.router.url.match(/\/edit\/(\d+)/);i&&(this.id=i[1],this.getDataByID(this.id))}getDataByID(e){this.injector.get(u.u).getContactByID(e).subscribe({next:a=>{this.currentData=a.data},error:a=>{this.errorMessage=a.error.errors}})}submitData(){this.contactForm.valid&&this.injector.get(u.u).contact(this.contactForm.value,this.currentData.id).subscribe({next:i=>{this.alertService.toast({severity:"success",summary:"",detail:i.message}),this.router.navigate(["/admin/contacts"])},error:i=>{this.errorMessage=i.error.message}})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(c.Ix),t.rXU(t.zZn),t.rXU(s.ok),t.rXU(C.n))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-form"]],standalone:!0,features:[t.aNF],decls:51,vars:35,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"forms-sample",3,"formGroup"],[1,"col-md-6","mb-2"],[1,"mb-3"],["for","name",1,"form-label"],[1,"text-danger","d-inline-block"],["type","text","id","name","required","","formControlName","username",1,"form-control",3,"placeholder","ngModel"],["for","phone",1,"form-label"],["type","tel","id","phone","required","","formControlName","phone",1,"form-control",3,"placeholder","ngModel"],[1,"col-md-12","mb-2"],["for","Email",1,"form-label"],["type","Email","id","Email","required","","formControlName","email",1,"form-control",3,"placeholder","ngModel"],["for","message",1,"form-label"],["id","message","formControlName","message","required","","rows","6","cols","20",1,"form-control",3,"ngModel"],[1,"col-md-12","d-flex","align-items-center","justify-content-start"],["type","submit",1,"main-btn","mt-5",3,"click","disabled"],["class","error-message text-danger",4,"ngIf"],[1,"error-message","text-danger"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.nrm(4,"p-toast"),t.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"form",5)(9,"div",3)(10,"div",6)(11,"div",7)(12,"label",8),t.EFF(13),t.nI1(14,"translate"),t.j41(15,"span",9),t.EFF(16,"*"),t.k0s()(),t.nrm(17,"input",10),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"div",6)(20,"div",7)(21,"label",11),t.EFF(22),t.nI1(23,"translate"),t.j41(24,"span",9),t.EFF(25,"*"),t.k0s()(),t.nrm(26,"input",12),t.nI1(27,"translate"),t.k0s()(),t.j41(28,"div",13)(29,"div",7)(30,"label",14),t.EFF(31),t.nI1(32,"translate"),t.j41(33,"span",9),t.EFF(34,"*"),t.k0s()(),t.nrm(35,"input",15),t.nI1(36,"translate"),t.k0s()(),t.j41(37,"div",13)(38,"div",7)(39,"label",16),t.EFF(40),t.nI1(41,"translate"),t.j41(42,"span",9),t.EFF(43,"*"),t.k0s()(),t.nrm(44,"textarea",17),t.k0s()(),t.j41(45,"div",18)(46,"button",19),t.bIt("click",function(){return a.submitData()}),t.EFF(47),t.nI1(48,"translate"),t.k0s()(),t.DNE(49,L,2,1,"div",20),t.k0s()(),t.DNE(50,x,2,1,"div",20),t.k0s()()()()),2&i&&(t.R7$(2),t.JRh(t.bMT(3,17,"edit contact message")),t.R7$(6),t.Y8G("formGroup",a.contactForm),t.R7$(5),t.SpI("",t.bMT(14,19,"Name")," "),t.R7$(4),t.Y8G("placeholder",t.bMT(18,21,"Name"))("ngModel",null==a.currentData?null:a.currentData.username),t.R7$(5),t.SpI("",t.bMT(23,23,"phone")," "),t.R7$(4),t.Y8G("placeholder",t.bMT(27,25,"phone"))("ngModel",null==a.currentData?null:a.currentData.phone),t.R7$(5),t.SpI("",t.bMT(32,27,"Email")," "),t.R7$(4),t.Y8G("placeholder",t.bMT(36,29,"Email"))("ngModel",null==a.currentData?null:a.currentData.email),t.R7$(5),t.SpI("",t.bMT(41,31,"your_message")," "),t.R7$(4),t.Y8G("ngModel",null==a.currentData?null:a.currentData.message),t.R7$(2),t.Y8G("disabled",a.contactForm.invalid),t.R7$(),t.SpI(" ",t.bMT(48,33,"Edit message")," "),t.R7$(2),t.Y8G("ngIf",a.errorMessage),t.R7$(),t.Y8G("ngIf",a.errorMessage))},dependencies:[s.X1,s.qT,s.me,s.BC,s.cb,s.YS,s.j4,s.JD,p.MB,p.y8,m.MD,m.bT,d.h,d.D9],styles:[".card-header[_ngcontent-%COMP%]{background-color:transparent;color:var(--primary-color)!important;font-weight:bolder;border:0px}"]})}}return n})()}];let S=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[c.iI.forChild(G),c.iI]})}}return n})(),N=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[m.MD,S]})}}return n})()}}]);