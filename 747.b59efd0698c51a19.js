"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[747],{747:(U,f,o)=>{o.r(f),o.d(f,{AdsModule:()=>X});var p=o(177),m=o(6627),u=o(8018),_=o(1141),b=o(5144),h=o(9998),R=o(2145),F=o(9021),j=o(7313),d=o(7945),t=o(4438),y=o(1626),D=o(1387);let g=(()=>{class a{constructor(e,i){this.httpClient=e,this.baseRequestService=i}listAds(){return this.httpClient.get(d.f.basUrl+"ads")}getAddByID(e){return this.httpClient.get(d.f.basUrl+"ads/"+e)}deleteAdd(e){return this.httpClient.post(d.f.basUrl+"deleteitem",e)}ads(e,i){return i?this.httpClient.put(d.f.basUrl+"ads/"+i,e):this.httpClient.post(d.f.basUrl+"ads",e)}static{this.\u0275fac=function(i){return new(i||a)(t.KVO(y.Qq),t.KVO(D.E))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var v=o(8005),M=o(5779);function k(a,l){1&a&&t.nrm(0,"app-loading-shimmer")}function I(a,l){if(1&a){const e=t.RV6();t.j41(0,"li",16),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(2).$implicit;return t.Njj(n.command({id:s.id}))}),t.j41(1,"a",17),t.nrm(2,"span",18),t.j41(3,"span",19),t.EFF(4),t.k0s()()()}if(2&a){const e=l.$implicit;t.R7$(),t.BMQ("aria-label",e.label),t.R7$(),t.HbH(e.icon),t.R7$(2),t.JRh(e.label)}}function T(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td")(10,"div",12),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.viewDetails(n))}),t.j41(11,"div")(12,"p-menu",13,1),t.DNE(14,I,5,4,"ng-template",14),t.k0s(),t.j41(15,"p-button",15),t.bIt("onClick",function(n){t.eBV(e);const s=t.sdS(13);return t.Njj(s.toggle(n))}),t.k0s()()()()()}if(2&a){const e=t.XpG().$implicit,i=t.XpG(2);t.R7$(2),t.Lme("",e.id," ",e.lastName,""),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(e.info),t.R7$(2),t.JRh(e.created_at),t.R7$(4),t.Y8G("model",i.actionOptions)("popup",!0),t.R7$(3),t.Y8G("text",!0)}}function $(a,l){1&a&&(t.j41(0,"td"),t.nrm(1,"p-skeleton"),t.k0s())}function L(a,l){if(1&a&&(t.j41(0,"tr"),t.Z7z(1,$,2,0,"td",null,t.Vm6),t.j41(3,"td"),t.nrm(4,"p-skeleton"),t.k0s()()),2&a){const e=t.XpG(3);t.R7$(),t.Dyx(e.items.headers)}}function x(a,l){if(1&a&&t.DNE(0,T,16,8,"tr")(1,L,5,0,"tr"),2&a){const e=t.XpG(2);t.vxM(0,e.isLoadingFilter?-1:0),t.R7$(),t.vxM(1,e.isLoadingFilter?1:-1)}}function G(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"app-dynamic-table",11),t.nI1(3,"translate"),t.bIt("pageChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.onPageChange(n))})("pageSizeChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.onPageSizeChange(n))})("search",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.onSearch(n))})("buttonClick",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openComponent())}),t.k0s(),t.DNE(4,x,2,2,"ng-template",null,0,t.C5r),t.k0s()()}if(2&a){const e=t.sdS(5),i=t.XpG();t.R7$(2),t.Y8G("items",i.items)("hasHeader",!0)("enablePagination",!1)("showBtn",i.addItem)("enableSorting",!1)("initialPageSize",i.size)("totalRecords",null==i.paginationResponse?null:i.paginationResponse.total)("bodyTemplate",e)("customTemplate",!0)("showBtn",!0)("buttonText",t.bMT(3,12,"Add advertise"))("HandelRenderingDataMessage",i.HandelRenderingDataMessage)}}let S=(()=>{class a extends R.j{constructor(e,i,n,s){super(s),this.router=e,this.injector=i,this.alertService=n,this.Urls=d.f,this.isLoadingFilter=!1,this.isLoadingItems=!0,this.categoriesList=[],this.actionOptions=[{label:"Edit",icon:"pi pi-pencil",command:c=>{c?.id&&this.router.navigate(["/admin/ads/edit",c.id])}},{label:"Delete",icon:"pi pi-trash text-danger",command:c=>{c?.id&&this.deleteData(c.id)}}],this.items={tableHeader:"Categories",headers:["ID","Name","Info","Created On","Actions"],data:[]}}openComponent(){this.router.navigate(["/admin/ads/add"])}list(e){e?this.isLoadingFilter=!0:this.isLoadingItems=!0,this.HandelRenderingDataMessage="Loading...",this.injector.get(g).listAds().subscribe({next:n=>{this.categoriesList=n.data,this.items.data=n.data,this.paginationResponse={...n?.meta,...n?.links},this.isLoadingItems=!1,this.isLoadingFilter=!1,0==n.data.length&&(this.HandelRenderingDataMessage="No Data Found"),this.cdr.detectChanges()},error:n=>{this.errorMessage=n.error.errors}})}deleteData(e){this.injector.get(g).deleteAdd({id:e,table:"ads"}).subscribe({next:n=>{this.alertService.toast({severity:"success",summary:"",detail:n.message}),this.list()},error:n=>{this.errorMessage=n.error.errors}})}static{this.\u0275fac=function(i){return new(i||a)(t.rXU(m.Ix),t.rXU(t.zZn),t.rXU(v.n),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-list"]],standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:5,consts:[["customBodyTemplate",""],["menu",""],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/ads"],[1,"d-flex","justify-content-center","h-100"],[1,"card","w-100","border-0"],[1,"card-body","pt-0"],[1,"row","h-100"],[1,"col-12","my-2"],[3,"pageChange","pageSizeChange","search","buttonClick","items","hasHeader","enablePagination","showBtn","enableSorting","initialPageSize","totalRecords","bodyTemplate","customTemplate","buttonText","HandelRenderingDataMessage"],[1,"actions",3,"click"],["appendTo","body",3,"model","popup"],["pTemplate","option"],["icon","pi pi-ellipsis-v","severity","secondary",3,"onClick","text"],["pMenuItem","",3,"click"],[1,"p-ripple","p-element","p-menuitem-link","small"],[1,"p-menuitem-icon"],[1,"p-menuitem-text"]],template:function(i,n){1&i&&(t.j41(0,"nav",2)(1,"ol",3)(2,"li",4)(3,"a",5),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()(),t.nrm(6,"p-toast"),t.j41(7,"div",6)(8,"div",7)(9,"div",8),t.DNE(10,k,1,0,"app-loading-shimmer")(11,G,6,14,"div",9),t.k0s()()()),2&i&&(t.R7$(4),t.SpI(" ",t.bMT(5,3,"Advertises"),""),t.R7$(6),t.vxM(10,n.isLoadingItems?10:-1),t.R7$(),t.vxM(11,n.isLoadingItems?-1:11))},dependencies:[u.h,u.D9,h.MB,h.y8,M.Ei,j.f,F.J,b.Mk,b.W1,m.Wk,_.tm,_.$n,p.MD]})}}return a})();var r=o(9417);function E(a,l){if(1&a&&(t.j41(0,"div",18),t.EFF(1),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.SpI(" ",e.errorMessage," ")}}let C=(()=>{class a{constructor(e,i,n,s){this.router=e,this.injector=i,this.fb=n,this.alertService=s,this.errorMessage="",this.isEditPage=!1,this.selectedFile=null,this.fileAddedBeforeArrayMuti=[],this.uploadForm=this.fb.group({ar_name:["",[r.k0.required,r.k0.minLength(3)]],ar_info:["",[r.k0.required,r.k0.minLength(3)]],en_info:["",[r.k0.required,r.k0.minLength(3)]],en_name:["",[r.k0.required,r.k0.minLength(3)]]})}ngOnInit(){this.isEditPage=this.router.url.indexOf("edit")>-1,this.isEditPage&&this.getIDfromUrl()}getName(e,i){return"ar"==i?JSON.parse(e)?.ar:JSON.parse(e)?.en}getIDfromUrl(){const i=this.router.url.match(/\/edit\/(\d+)/);i&&(this.id=i[1],this.getDataByID(this.id))}getDataByID(e){this.injector.get(g).getAddByID(e).subscribe({next:n=>{this.currentData=n.data,console.log("this.currentData",this.currentData)},error:n=>{this.errorMessage=n.error.errors}})}submitData(){if(this.uploadForm.valid){const e=new FormData;e.append("ar_name",this.uploadForm.get("ar_name")?.value),e.append("ar_info",this.uploadForm.get("ar_info")?.value),e.append("en_info",this.uploadForm.get("en_info")?.value),e.append("en_name",this.uploadForm.get("en_name")?.value),this.injector.get(g).ads(e,this.id).subscribe({next:n=>{this.alertService.toast({severity:"success",summary:"",detail:n.message}),this.router.navigate(["/admin/ads"])},error:n=>{this.errorMessage=n.error.message}})}}static{this.\u0275fac=function(i){return new(i||a)(t.rXU(m.Ix),t.rXU(t.zZn),t.rXU(r.ok),t.rXU(v.n))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-form"]],standalone:!0,features:[t.aNF],decls:38,vars:37,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"forms-sample",3,"formGroup"],[1,"mb-3"],["for","ar_name",1,"form-label"],["type","text","id","ar_name","autocomplete","ar_name","required","","formControlName","ar_name",1,"form-control",3,"placeholder","ngModel"],["for","ar_info",1,"form-label"],["type","text","id","ar_info","formControlName","ar_info","required","",1,"form-control",3,"placeholder","ngModel"],["for","en_name",1,"form-label"],["type","text","id","en_name","autocomplete","current-en_name","required","","formControlName","en_name",1,"form-control",3,"placeholder","ngModel"],["for","en_info",1,"form-label"],["type","text","id","en_info","autocomplete","current-en_info","required","","formControlName","en_info",1,"form-control",3,"placeholder","ngModel"],[1,"col-md-12","d-flex","align-items-center","justify-content-end"],["type","submit",1,"btn","btn-solid-main",3,"click","disabled"],["class","error-message text-danger",4,"ngIf"],[1,"error-message","text-danger"]],template:function(i,n){1&i&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.nrm(4,"p-toast"),t.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"form",5)(9,"div",6)(10,"label",7),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.nrm(13,"input",8),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",6)(16,"label",9),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.nrm(19,"input",10),t.nI1(20,"translate"),t.k0s(),t.j41(21,"div",6)(22,"label",11),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.nrm(25,"input",12),t.nI1(26,"translate"),t.k0s(),t.j41(27,"div",6)(28,"label",13),t.EFF(29),t.nI1(30,"translate"),t.k0s(),t.nrm(31,"input",14),t.nI1(32,"translate"),t.k0s(),t.j41(33,"div",15)(34,"button",16),t.bIt("click",function(){return n.submitData()}),t.EFF(35),t.nI1(36,"translate"),t.k0s()()(),t.DNE(37,E,2,1,"div",17),t.k0s()()()()),2&i&&(t.R7$(2),t.JRh(t.bMT(3,17,n.isEditPage?"edit Advertise":"add a new advertise")),t.R7$(6),t.Y8G("formGroup",n.uploadForm),t.R7$(3),t.JRh(t.bMT(12,19,"ar_name")),t.R7$(2),t.Y8G("placeholder",t.bMT(14,21,"ar_name"))("ngModel",null==n.currentData?null:n.currentData.name),t.R7$(4),t.JRh(t.bMT(18,23,"ar_info")),t.R7$(2),t.Y8G("placeholder",t.bMT(20,25,"ar_info"))("ngModel",null==n.currentData?null:n.currentData.info),t.R7$(4),t.JRh(t.bMT(24,27,"en_name")),t.R7$(2),t.Y8G("placeholder",t.bMT(26,29,"en_name"))("ngModel",null==n.currentData?null:n.currentData.name),t.R7$(4),t.JRh(t.bMT(30,31,"en_info")),t.R7$(2),t.Y8G("placeholder",t.bMT(32,33,"en_info"))("ngModel",null==n.currentData?null:n.currentData.info),t.R7$(3),t.Y8G("disabled",n.uploadForm.invalid),t.R7$(),t.JRh(t.bMT(36,35,"Save")),t.R7$(2),t.Y8G("ngIf",n.errorMessage))},dependencies:[u.h,u.D9,r.X1,r.qT,r.me,r.BC,r.cb,r.YS,r.j4,r.JD,h.MB,h.y8,p.MD,p.bT],styles:[".card-header[_ngcontent-%COMP%]{background-color:transparent;color:var(--primary-color)!important;font-weight:bolder;border:0px}"]})}}return a})();const N=[{path:"",component:S},{path:"add",component:C},{path:"edit/:id",component:C}];let B=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(N),m.iI]})}}return a})(),X=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[p.MD,B]})}}return a})()}}]);